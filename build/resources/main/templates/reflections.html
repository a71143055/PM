<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <title>My Reflections</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <style>
        body { font-family: 'Helvetica Neue', sans-serif; background: #f9f9f9; margin: 0; padding: 20px; }
        h2 { color: #333; }
        .card-container { display: flex; flex-wrap: wrap; gap: 20px; }
        .card { background: #fff; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 16px; width: 300px; }
        .card h3 { margin: 0 0 8px; font-size: 18px; }
        .card p { margin: 4px 0; color: #555; }
        .actions { margin-top: 12px; text-align: right; }
        .actions button { background: #e74c3c; color: #fff; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; }
        .actions button:hover { background: #c0392b; }
        .add-btn { background: #2ecc71; color: #fff; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; }
        .add-btn:hover { background: #27ae60; }
    </style>
</head>
<body>
<h2>âœ¨ My Reflections</h2>

<div class="card-container">
    <div class="card" th:each="r : ${reflections}">
        <h3 th:text="${r.date}"></h3>
        <p><strong>Mood:</strong> <span th:text="${r.mood}"></span></p>
        <p><strong>Reflection:</strong> <span th:text="${r.reflection}"></span></p>
        <p><strong>Goals:</strong> <span th:text="${r.goals}"></span></p>
        <div class="actions">
            <form th:action="@{'/reflections/delete/' + ${r.id}}" method="post">
                <button type="submit">Delete</button>
            </form>
        </div>
    </div>
</div>

<h3>Add Reflection</h3>
<form th:action="@{/reflections}" th:object="${newReflection}" method="post">
    <label>
        <input type="date" th:field="*{date}" />
    </label>
    <label>
        <input type="text" th:field="*{mood}" placeholder="Mood" />
    </label>
    <label>
        <textarea th:field="*{reflection}" placeholder="What did you reflect today?" rows="4"></textarea>
    </label>
    <label>
        <textarea th:field="*{goals}" placeholder="Goals" rows="3"></textarea>
    </label>
    <button class="add-btn" type="submit">Save Reflection</button>
</form>
</body>
</html>
